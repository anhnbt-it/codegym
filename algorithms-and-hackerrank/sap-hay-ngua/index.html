<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sấp hay Ngửa?</title>
	<style>
		.wrapper {
			width: 600px;
			margin: 40px auto;
			text-align: center;
		}

		img {
			display: block;
			width: 80%;
			margin: 10px auto;
		}

		table {
			width: 100%;
			border-collapse: collapse;
		}

		td {
			border: 1px solid black;
			padding: 6px;
		}

		.bg-yellow {
			background-color: yellow;
			color: red;
			padding: 6px;
			font-weight: bold;
		}

		.bg-white {
			background-color: white;
			color: black;
			padding: 6px;
			font-weight: bold;
		}
	</style>
</head>

<body>
	<div class="wrapper">
		<button onclick="tungDongXu(this); return false;">Tung đồng xu ngay</button>
		<img src="sap-hay-ngua.jpeg" alt="Sấp hay Ngửa?" width="120">
		<div id="output"></div><!-- Dùng để in ra kết quả -->
	</div>
	<script>
		function tungDongXu(button) {
			button.innerText = "Tung lại đồng xu"; // Thay văn bản khác khi button được nhấn vào

			// Random ngẫu nhiên số 0 hoặc 1
			let an = Math.round(Math.random() * 1);
			let binh = Math.round(Math.random() * 1);
			let cuong = Math.round(Math.random() * 1);
			
			// In ra console.log trạng thái đồng xu của mỗi người
			console.log("Trạng thái xu của An: " + an + "=" + ((an === 1) ? "Ngửa" : "Sấp")); // Dùng toán tử 3 ngôi để kiểm tra nếu số ngẫu nhiên là 1 thì in ra Ngửa, 0 thì in ra Sấp
			console.log("Trạng thái xu của Bình: " + binh + "=" + ((binh === 1) ? "Ngửa" : "Sấp"));
			console.log("Trạng thái xu của Cường: " + cuong + "=" + ((cuong === 1) ? "Ngửa" : "Sấp"));
	
			let tbl = "<table>"; // Dùng biến tbl để tạo một bảng
			if ((an === binh) && (binh === cuong)) { // Nếu cả 3 người bằng nhau
				tbl += "<caption" + getBgClass(an) + ">Hòa nhau</caption>"; // Chèn thêm thẻ caption với nội dung Hòa nhau vào bảng
			} else if ((cuong !== an) && (an === binh)) { // Nếu Cường khác 2 người còn lại
				tbl += "<caption" + getBgClass(cuong) + ">Cường thắng</caption>";
			} else if ((binh !== an) && (an === cuong)) { // Nếu Bình khác 2 người còn lại
				tbl += "<caption" + getBgClass(binh) + ">Bình thắng</caption>";
			} else { // Nếu các điều kiện trên sai thì người còn lại thắng
				tbl += "<caption" + getBgClass(an) + ">An thắng</caption>";
			}

			tbl += "<tr>"; // Chèn thêm thẻ tr (hàng) vào bảng
			
			// Chèn thẻ td (cột) với tên và ảnh Sấp hoặc Ngửa
			tbl += '<td' + getBgClass(an) + '><span>An</span>' + getImage(an) + '</td>';
			tbl += '<td' + getBgClass(binh) + '><span>Bình</span>' + getImage(binh) + '</td>';
			tbl += '<td' + getBgClass(cuong) + '><span>Cường</span>' + getImage(cuong) + '</td>';
			tbl += "</tr>"; // Đóng thẻ tr

			tbl += "</table>"; // Đóng bảng
			document.getElementById('output').innerHTML = tbl; // In ra bảng vào trong thẻ có id = output
		}

		function getBgClass(checkSapNgua) {
			return (checkSapNgua === 1) ? " class=\"bg-yellow\"" : " class=\"bg-white\"";
		}

		function getImage(checkSapNgua) {
			return '<img src="' + ((checkSapNgua === 1) ? "mat-duong" : "mat-am") + '.jpg" alt="' + ((checkSapNgua === 1) ? "Ngửa" : "Sấp") + '" width="120">';
		}
	</script>
</body>

</html>